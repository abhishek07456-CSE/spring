<?xml version = "1.0" encoding = "UTF-8"?>

<beans xmlns = "http://www.springframework.org/schema/beans"
   xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
   xmlns:context = "http://www.springframework.org/schema/context"
   xsi:schemaLocation = "http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans.xsd
   http://www.springframework.org/schema/context
   http://www.springframework.org/schema/context/spring-context.xsd">

    <context:annotation-config/>
     <bean id = "student" class = "Model.StudentModel">
        <property name="first_name" value = "Abhishek"></property>
        <property name="last_name" value = "Chaudhary"></property>
        <property name="email" value = "abhishek07456@gmail.com"></property>
        <property name="age" value = "12"></property>
        <property name = "skills">
          <list merge = "true">
                  <ref bean = "student_skill1"></ref>
                  <ref bean = "student_skill2"></ref>
                  <ref bean = "student_skill3"></ref>
          </list>
        </property>
     </bean>
      <bean id = "student_skill1" class ="Model.Skills" scope = "singleton">
        <property name="name" value = "${studentSkill.skill1}"></property>
      </bean>
      
       <bean id = "student_skill2" class ="Model.Skills" >
        <property name="name" value = "${studentSkill.skill2}"></property>
      </bean>
       <bean id = "student_skill3" class ="Model.Skills" >
        <property name="name" value = "${studentSkill.skill3}"></property>
      </bean>
      
      
      
     <bean id = "teacher" class = "Model.TeacherModel">
        <property name="first_name" value = "Sunil"></property>
        <property name="last_name" value = "Kumar"></property>
        <property name="email" value = "sunil6@teacher.com"></property>
        <property name="age" value = "12"></property>
        <property name = "skills">
          <list merge = "true">
                  <ref bean = "teacher_skill1"></ref>
                  <ref bean = "teacher_skill2"></ref>
                  <ref bean = "teacher_skill3"></ref>
          </list>
        </property>
     </bean>
     
      <bean id = "teacher_skill1" class ="Model.Skills" scope = "prototype">
        <property name="name" value = "accountant"></property>
      </bean>
      
      <bean id = "teacher_skill2" class ="Model.Skills" scope = "prototype" >
        <property name="name" value = "Teaching"></property>
      </bean>
       <bean id = "teacher_skill3" class ="Model.Skills" scope = "prototype">
        <property name="name" value = "Mathematics"></property>
      </bean>
      
      
     <bean id = "controller_dependency" abstract = "true" >
       <!-- <property name="person" ref="teacher"/>   --> <!-- send ref of student and teacher no need to change in code  new Tecaher or new Student() -->
     </bean>
     
     
     <bean id = "person_controller" class = "Controller.PersonController"  parent = "controller_dependency">
     </bean>
     <bean class="Controller.MyBeanPostProcessor"></bean>
     <bean class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">
        <property name = "location" value = "xml_configuration/config.properties"></property>
     </bean>
     <bean class="org.springframework.beans.factory.annotation.RequiredAnnotationBeanPostProcessor" />
 </beans>